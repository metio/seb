<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://gohugo.io/" version="0.128.0">Hugo</generator><title type="html">Jspecify on Sebastian Ho√ü</title><link href="https://seb.xn--ho-hia.de/tags/jspecify/" rel="alternate" type="text/html" title="html"/><link href="https://seb.xn--ho-hia.de/tags/jspecify/index.xml" rel="alternate" type="application/rss+xml" title="rss"/><link href="https://seb.xn--ho-hia.de/tags/jspecify/atom.xml" rel="self" type="application/atom+xml" title="atom"/><updated>2024-07-01T02:33:53+00:00</updated><id>https://seb.xn--ho-hia.de/tags/jspecify/</id><entry><title type="html">jspecify</title><link href="https://seb.xn--ho-hia.de/posts/jspecify/?utm_source=atom_feed" rel="alternate" type="text/html"/><link href="https://seb.xn--ho-hia.de/posts/clojure-java-interoperability/?utm_source=atom_feed" rel="related" type="text/html" title="Clojure Java Interoperability"/><link href="https://seb.xn--ho-hia.de/posts/github-actions-specify-java-version/?utm_source=atom_feed" rel="related" type="text/html" title="Use a specific Java version with GitHub Actions"/><id>https://seb.xn--ho-hia.de/posts/jspecify/</id><published>2023-01-09T00:00:00+00:00</published><updated>2023-01-09T07:05:35+01:00</updated><content type="html"><![CDATA[<p>Every <a href="https://www.java.com/">Java</a> developer has probably encountered a <code>NullPointerException</code> at least once in their life. The exception is thrown every time you try to dereference and use some object before initializing it. The following snippet shows a simple example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">String</span><span class="w"> </span><span class="n">someName</span><span class="p">;</span><span class="w">         </span><span class="c1">// value is &#39;null&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">someName</span><span class="p">.</span><span class="na">toUpperCase</span><span class="p">();</span><span class="w"> </span><span class="c1">// throws NullPointerException</span><span class="w">
</span></span></span></code></pre></div><p>Modern <a href="https://en.wikipedia.org/wiki/Integrated_development_environment">IDEs</a> have some sort of detection for this kind of problem and warn developers while they are writing code like this. Those IDEs typically rely on static code analysis to determine if a value is <code>null</code> and therefore a potential for a <code>NullPointerException</code> is present in your code. To improve the result of such an analysis, annotations can be placed on your code which signal that a parameter can or can not be <code>null</code>. Multiple approaches have existed in the past to define a standard set of annotations for such a task, however none of them succeeded.</p>
<p><a href="https://jspecify.dev/">jspecify</a> is the latest approach that tries to establish a <a href="https://xkcd.com/927/">standard</a>. It has gained wide <a href="https://jspecify.dev/about">community support</a> and recently celebrated their first public release (<code>0.3.0</code>).</p>
<p>The following snippet shows the dependency declaration for <a href="https://maven.apache.org/">Maven</a> projects:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;dependencies&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;groupId&gt;</span>org.jspecify<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;artifactId&gt;</span>jspecify<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;version&gt;</span>0.3.0<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/dependencies&gt;</span>
</span></span></code></pre></div><p>In case you want to declare that nothing in your module can ever be <code>null</code>, place the <code>@NullMarked</code> on your <code>module-info.java</code> like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@org.jspecify.annotations.NullMarked</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">module</span><span class="w"> </span><span class="n">your</span><span class="p">.</span><span class="na">module</span><span class="p">.</span><span class="na">here</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">requires</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="na">jspecify</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// ...</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>The tooling support is not quiet clear yet, however if you are developing a library there is <a href="https://github.com/jspecify/jspecify/wiki/adoption#should-my-library-adopt-these-annotations-now">no harm</a> in adding these annotations now and let your users enjoy their null-free life once tools have caught up.</p>
]]></content><category scheme="https://seb.xn--ho-hia.de/categories/snippet" term="snippet" label="snippet"/><category scheme="https://seb.xn--ho-hia.de/tags/java" term="java" label="java"/><category scheme="https://seb.xn--ho-hia.de/tags/nullness" term="nullness" label="nullness"/><category scheme="https://seb.xn--ho-hia.de/tags/jspecify" term="jspecify" label="jspecify"/></entry></feed>